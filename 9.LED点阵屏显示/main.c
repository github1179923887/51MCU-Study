//点阵屏显示固定图形
//#include <REGX52.H>
//#include "Delay.h"
//#include "MatrixLED.h"

//void main()
//{
//	MatrixLED_Init();
//	while(1)
//	{
//		MatrixLED_ShowColumn(1,0xF0);
//		MatrixLED_ShowColumn(2,0xF0);
//		MatrixLED_ShowColumn(3,0xF0);
//		MatrixLED_ShowColumn(4,0xA0);
//		MatrixLED_ShowColumn(5,0xA0);
//		MatrixLED_ShowColumn(6,0x02);
//		MatrixLED_ShowColumn(7,0x02);
//		MatrixLED_ShowColumn(8,0x10);
//	}
//}

//点阵屏显示移动或逐帧动画
#include <REGX52.H>
#include "Delay.h"
#include "MatrixLED.h"

unsigned char code Animation[] = 				//code将数据存放在flash中，因为RAM内存较小，但后续无法更改
{
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,	//使移动时显得连贯
	0x08,0x10,0x3F,0x52,0xA4,0x62,0xBF,0x20,
	0x34,0x22,0x00,0x10,0x11,0x3A,0x54,0x9A,
	0x11,0x40,0x52,0x59,0x77,0x10,0x00,0x38,
	0x28,0x38,0x01,0x3A,0x4D,0x7F,0x48,0x08,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00		//使移动时显得连贯
};

//坤坤矩阵
unsigned char code DH[]=
{
	0x00,0x0E,0x1B,0x7F,0x7F,0x1B,0x0E,0x00,
	0x00,0x04,0x0C,0x18,0x7F,0x7F,0x1B,0x0E,
	0x00,0x08,0x0C,0x05,0x7F,0x7F,0x1E,0x0C,
	0xC0,0x00,0x41,0x22,0x1A,0x7C,0x7D,0x1A,
	0x00,0x60,0x61,0x12,0x0A,0x7E,0x7F,0x08,
	0x00,0x06,0x0E,0x08,0x0B,0x3E,0x3E,0x0B,
	0x00,0x03,0x0B,0x08,0x0B,0x3E,0x3E,0x0B,
	0x00,0x06,0x0E,0x08,0x09,0x3F,0x3E,0x0B,
	0x00, 0x0E,0x13,0x7E,0x7E,0x1F,0x0E,0x00,
	0x08,0x13,0x7E,0x7E,0x12,0x1D,0x0C,0x00,
	0x09,0x12,0x7E,0x7F,0x10,0x13,0x03,0x00,
	0x09,0x12,0x7E,0x7F,0x10,0x1C,0x0C,0x00,
	0x00,0x0C,0x15,0x7E,0x7E,0x17,0x0E,0x00,
	0x00,0x30,0x38,0x0D,0x7E,0x7F,0x1D,0x08,
	0xC0,0xC0,0x30,0x1B,0x7C,0x7F,0x08,0x00,
	0x00,0x00,0x37,0xF8,0xFA,0x34,0x00,0x00,
	0x00,0x00,0x1B,0x7C,0x7C,0x1A,0x01,0x00,
	0x00,0x00,0x09,0x1E,0x7C,0x7F,0x18,0x00,
	0x00,0x00,0x1B,0x7C,0x7C,0x1B,0x00,0x00,
	0x00,0x00,0x09,0x1E,0x7C,0x7F,0x18,0x00,
	0x00,0x00,0x1B,0x7C,0x7C,0x1B,0x00,0x00,
	0x08,0x10,0x16,0x7C,0x7F,0x10,0x08,0x00,
	0x00,0x10,0x13,0x7C,0x7E,0x18,0x00,0x00,
	0x00,0x08,0x13,0x7C,0x7F,0x10,0x10,0x00,
	0x00,0x08,0x12,0xFC,0xFD,0x3A,0x00,0x00,
	0x00,0x08,0x12,0xFC,0xFC,0x22,0x10,0x00,
	0x00,0x00,0x61,0x12,0x7C,0x7F,0x10,0x60,
	0x00,0x00,0x20,0x11,0x12,0x7C,0x7E,0x19,
	0x00,0x00,0x00,0x31,0x0A,0x7C,0x7E,0x0D,
	0x00,0x00,0x20,0x11,0x12,0x7C,0x7E,0x19,
	0x00,0x00,0x00,0x31,0x0A,0x7C,0x7E,0x0D,
	0x00,0x00,0x20,0x11,0x12,0x7C,0x7E,0x19,
	0x00,0x00,0x00,0x31,0x0A,0x7C,0x7E,0x0D,
	0x00,0x00,0x20,0x11,0x12,0x7C,0x7E,0x19,
	0x00,0x00,0x00,0x31,0x0A,0x7C,0x7E,0x0D
};

void main()
{
	unsigned char i,Offset,Count;
	Offset = Count = 0;
	MatrixLED_Init();
	while(1)
	{
		for(i = 0;i < 8;i++)
		{
			MatrixLED_ShowColumn(i+1,DH[i+Offset]);
		}
		Count++;
		if(Count > 30)	//减慢移动速度
		{
			Count = 0;
			Offset+=8;	//加1时为移动动画，加8即为逐帧动画
			if(Offset > 280)
			{
				Offset = 0;
			}
		}
	}
}