C51 COMPILER V9.54   MAIN                                                                  03/31/2025 19:47:54 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: D:\Keil_v5\C51\BIN\C51.EXE main.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\main
                    -.lst) OBJECT(.\Objects\main.obj)

line level    source

   1          //点阵屏显示固定图形
   2          //#include <REGX52.H>
   3          //#include "Delay.h"
   4          //#include "MatrixLED.h"
   5          
   6          //void main()
   7          //{
   8          //      MatrixLED_Init();
   9          //      while(1)
  10          //      {
  11          //              MatrixLED_ShowColumn(1,0xF0);
  12          //              MatrixLED_ShowColumn(2,0xF0);
  13          //              MatrixLED_ShowColumn(3,0xF0);
  14          //              MatrixLED_ShowColumn(4,0xA0);
  15          //              MatrixLED_ShowColumn(5,0xA0);
  16          //              MatrixLED_ShowColumn(6,0x02);
  17          //              MatrixLED_ShowColumn(7,0x02);
  18          //              MatrixLED_ShowColumn(8,0x10);
  19          //      }
  20          //}
  21          
  22          //点阵屏显示移动或逐帧动画
  23          #include <REGX52.H>
  24          #include "Delay.h"
  25          #include "MatrixLED.h"
  26          
  27          unsigned char code Animation[] =                                //code将数据存放在flash中，因为RAM内存较小，但后续无法更改
  28          {
  29                  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,        //使移动时显得连贯
  30                  0x08,0x10,0x3F,0x52,0xA4,0x62,0xBF,0x20,
  31                  0x34,0x22,0x00,0x10,0x11,0x3A,0x54,0x9A,
  32                  0x11,0x40,0x52,0x59,0x77,0x10,0x00,0x38,
  33                  0x28,0x38,0x01,0x3A,0x4D,0x7F,0x48,0x08,
  34                  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00         //使移动时显得连贯
  35          };
  36          
  37          //坤坤矩阵
  38          unsigned char code DH[]=
  39          {
  40                  0x00,0x0E,0x1B,0x7F,0x7F,0x1B,0x0E,0x00,
  41                  0x00,0x04,0x0C,0x18,0x7F,0x7F,0x1B,0x0E,
  42                  0x00,0x08,0x0C,0x05,0x7F,0x7F,0x1E,0x0C,
  43                  0xC0,0x00,0x41,0x22,0x1A,0x7C,0x7D,0x1A,
  44                  0x00,0x60,0x61,0x12,0x0A,0x7E,0x7F,0x08,
  45                  0x00,0x06,0x0E,0x08,0x0B,0x3E,0x3E,0x0B,
  46                  0x00,0x03,0x0B,0x08,0x0B,0x3E,0x3E,0x0B,
  47                  0x00,0x06,0x0E,0x08,0x09,0x3F,0x3E,0x0B,
  48                  0x00, 0x0E,0x13,0x7E,0x7E,0x1F,0x0E,0x00,
  49                  0x08,0x13,0x7E,0x7E,0x12,0x1D,0x0C,0x00,
  50                  0x09,0x12,0x7E,0x7F,0x10,0x13,0x03,0x00,
  51                  0x09,0x12,0x7E,0x7F,0x10,0x1C,0x0C,0x00,
  52                  0x00,0x0C,0x15,0x7E,0x7E,0x17,0x0E,0x00,
  53                  0x00,0x30,0x38,0x0D,0x7E,0x7F,0x1D,0x08,
  54                  0xC0,0xC0,0x30,0x1B,0x7C,0x7F,0x08,0x00,
C51 COMPILER V9.54   MAIN                                                                  03/31/2025 19:47:54 PAGE 2   

  55                  0x00,0x00,0x37,0xF8,0xFA,0x34,0x00,0x00,
  56                  0x00,0x00,0x1B,0x7C,0x7C,0x1A,0x01,0x00,
  57                  0x00,0x00,0x09,0x1E,0x7C,0x7F,0x18,0x00,
  58                  0x00,0x00,0x1B,0x7C,0x7C,0x1B,0x00,0x00,
  59                  0x00,0x00,0x09,0x1E,0x7C,0x7F,0x18,0x00,
  60                  0x00,0x00,0x1B,0x7C,0x7C,0x1B,0x00,0x00,
  61                  0x08,0x10,0x16,0x7C,0x7F,0x10,0x08,0x00,
  62                  0x00,0x10,0x13,0x7C,0x7E,0x18,0x00,0x00,
  63                  0x00,0x08,0x13,0x7C,0x7F,0x10,0x10,0x00,
  64                  0x00,0x08,0x12,0xFC,0xFD,0x3A,0x00,0x00,
  65                  0x00,0x08,0x12,0xFC,0xFC,0x22,0x10,0x00,
  66                  0x00,0x00,0x61,0x12,0x7C,0x7F,0x10,0x60,
  67                  0x00,0x00,0x20,0x11,0x12,0x7C,0x7E,0x19,
  68                  0x00,0x00,0x00,0x31,0x0A,0x7C,0x7E,0x0D,
  69                  0x00,0x00,0x20,0x11,0x12,0x7C,0x7E,0x19,
  70                  0x00,0x00,0x00,0x31,0x0A,0x7C,0x7E,0x0D,
  71                  0x00,0x00,0x20,0x11,0x12,0x7C,0x7E,0x19,
  72                  0x00,0x00,0x00,0x31,0x0A,0x7C,0x7E,0x0D,
  73                  0x00,0x00,0x20,0x11,0x12,0x7C,0x7E,0x19,
  74                  0x00,0x00,0x00,0x31,0x0A,0x7C,0x7E,0x0D
  75          };
  76          
  77          void main()
  78          {
  79   1              unsigned char i,Offset,Count;
  80   1              Offset = Count = 0;
  81   1              MatrixLED_Init();
  82   1              while(1)
  83   1              {
  84   2                      for(i = 0;i < 8;i++)
  85   2                      {
  86   3                              MatrixLED_ShowColumn(i+1,DH[i+Offset]);
  87   3                      }
  88   2                      Count++;
  89   2                      if(Count > 30)  //减慢移动速度
  90   2                      {
  91   3                              Count = 0;
  92   3                              Offset+=8;      //加1时为移动动画，加8即为逐帧动画
  93   3                              if(Offset > 280)
  94   3                              {
  95   4                                      Offset = 0;
  96   4                              }
  97   3                      }
  98   2              }
  99   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     84    ----
   CONSTANT SIZE    =    328    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----       3
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
